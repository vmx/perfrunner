[test_case]
test = perfrunner.tests.mapreduce.MapreduceQueryLatencyTest
title = 1 node, 20M docs, 3 views, 100 updates/sec, 100 queries/sec, stale=false, multiple emitted fields
summary = Write-only query test, 1 node, 1 bucket x 20M x 1KB, 3 views, 100 sets/sec, 100 qps
larger_is_better = false

[stats]

[cluster]
mem_quota = 204800
initial_nodes = 1
num_buckets = 1

[bucket]
replica_number = 0

[compaction]
db_percentage = 10

[load]
items = 20000000
size = 1024
workers = 20
doc_gen = new

[mapreduce]
indexes =
    multi_emits::{"views":{"name_and_email_and_street_and_achievements_and_coins_by_city":{"map":"function(doc, meta) {emit(doc.city.f.f, [doc.name.f.f.f, doc.email.f.f, doc.street.f.f, doc.achievements, doc.coins.f]);}"},"street_and_name_and_email_and_achievement_and_coins_by_county":{"map":"function(doc, meta) {emit(doc.city.f.f, [doc.street.f.f, doc.name.f.f.f, doc.email.f.f, doc.achievements[0], 2 * doc.coins.f]);}"},"category_name_and_email_and_street_and_gmtime_and_year_by_country":{"map":"function(doc, meta) {emit(doc.city.f.f, [doc.category, doc.name.f.f.f, doc.email.f.f, doc.street.f.f, doc.gmtime, doc.year]);}"}}}
view_names =
    multi_emits::name_and_email_and_street_and_achievements_and_coins_by_city
    multi_emits::street_and_name_and_email_and_achievement_and_coins_by_county
    multi_emits::category_name_and_email_and_street_and_gmtime_and_year_by_country
params = {"stale": "false"}
throughput = 100
workers = 1

[access]
creates = 0
reads = 0
updates = 100
deletes = 0
throughput = 100
items = 20000000
workers = 1
time = 3600

[worker_settings]
