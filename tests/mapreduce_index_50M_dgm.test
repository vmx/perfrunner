[test_case]
test = perfrunner.tests.mapreduce.MapreduceIndexTest
title = 1 bucket x 50M x 2KB, DGM, 4 x 1 views, no mutations
summary = Indexing test, 4 nodes, 1 bucket x 50M x 2KB, DGM, 4 x 1 views
larger_is_better = false

[stats]

[cluster]
mem_quota = 40960
initial_nodes = 4
num_buckets = 1

[bucket]

[compaction]
db_percentage = 100
view_percentage = 100

[load]
items = 50000000
size = 2048
workers = 20

[mapreduce]
disabled_updates = 1
indexes =
    A::{"views":{"id_by_city":{"map":"function(doc, meta) {emit(doc.city, null);}"}}}
    B::{"views":{"name_and_email_by_category_and_coins":{"map":"function(doc, meta) {emit(doc.city, [doc.name, doc.email]);}"}}}
    C::{"views":{"id_by_realm_and_coins":{"map":"function(doc, meta) {emit([doc.realm, doc.coins], null);}"}}}
    D::{"views":{"name_and_email_by_city":{"map":"function(doc, meta) {emit(doc.city, [doc.name, doc.email]);}"}}}

[access]
creates = 100
ops = 50000000
items = 50000000
workers = 16

[worker_settings]
