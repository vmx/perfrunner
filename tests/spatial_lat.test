[test_case]
test = perfrunner.tests.view.SpatialQueryLatencyTest
title = 1 bucket x 1M x non-DGM, 1 x 1 spatial views, no mutations, 400 queries/sec
summary = Read-only spatial query test, 4 nodes, 1 bucket x 1M, non-DGM, 1 x 1 views, no mutations, 400 qps
larger_is_better = false

[stats]
post_rss = 1

[cluster]
mem_quota = 40960
initial_nodes = 4
num_buckets = 1

[compaction]
db_percentage = 20

[load]
items = 1000000
size = 2048
workers = 20
# XXX vmx 2015-05-08: Perhaps move this `dimensions` and `filename` to the spatial section
doc_gen = spatial
dimensionality = 2
data = /tmp/spatial/data/abs02

[spatial]
indexes =
    main::{"spatial":{"geom":"function (doc) {\n  if (doc.a !== undefined && doc.b !== undefined) {\n    emit([doc.a, doc.b], null);\n  }\n}"}}
view_names = [main::geom]
dimensionality = 2
spatial_queries = /tmp/spatial/query0/abs02

[access]
#creates = 4
#reads = 80
#updates = 12
#deletes = 4
#throughput = 10000
#items = 20000
#size = 2048
#workers = 12
#query_workers = 12
time = 7200
doc_gen = spatial
dimensionality = 2
spatial_workers = 12
spatial_throughput = 400
data = /tmp/spatial/data/abs02
spatial_queries = /tmp/spatial/query0/abs02
